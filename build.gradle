//import com.github.abrarsyed.gmcp.GMCP
// this is required for adding obfuscated jar classes.

buildscript {
	repositories { mavenCentral() }
	dependencies { classpath 'com.github.abrarsyed.gmcp:GMCP:0.6.2' }
}

apply plugin: "gmcp"

group = 'k2b6s9j.BoatCraft'
version = '2.0'
archivesBaseName = 'BoatCraft'

minecraft.minecraftVersion = '1.6.2'

dependencies {
	compile fileTree('lib') {
	include '*.jar'
	}
}

processResources{
	exclude '**/*.xcf'

	// specify a sub-filter so that it doesn't try to replace stuff in images.
	// unfortunately it doesnt know the difference between text and binary files.
	with {
		exclude '**/*.png'
		expand version: version, mcversion: minecraft.minecraftVersion
	}

	// generate version properties file
	doLast {
		def file = new File(destinationDir, 'version.properties')
		def properties = new Properties()

		properties.store(file.newWriter(), '')
	}
}

jar { appendix = 'universal' }

task sourceJar(type: Jar) {
	from sourceSets.main.allSource
	appendix = 'src'
}


// because the normal default jar task has been modified to be obfuscated
task deobfJar(type: Jar) {
	from sourceSets.main.output
	appendix = 'deobf'
}

artifacts {
	archives sourceJar
	archives deobfJar
}

// wrapper
task wrapper(type: Wrapper){ gradleVersion = '1.6' }
